{% extends "layouts.html" %}

{% block title %}
    Book
{% endblock %}

{% block body %}
<div class="modal-body row">
    <div class="col-md-6">

    <h1>Book Details</h1>

    <ul>
        <li>ISBN Number: {{ book.isbn }}</li>
        <li>Title: {{ book.title }}</li>
        <li>Author: {{ book.author}}</li>
        <li>Publication Year: {{ book.year}}</li>
    </ul>

    <hr>

    <h3>Ratings from Goodreads API:</h3>
    <ul>
        <li>Average Rating: {{ info['books'][0]['average_rating'] }}</li>
        <li>Work Ratings Count: {{ info['books'][0]['work_ratings_count'] }}</li>
   </ul>

   <hr>

   <h3>Write a Review:</h3>

   <form action="{{ url_for('review') }}" method="post">
        <small id="Rating" class="form-text text-muted">Rate the book on a scale 1 to 5</small>
        <div class="form-row">
            <div class="rate">
                <input type="radio" id="star5" name="rating" value="5" />
                <label for="star5" title="Very good">5 stars</label>
                <input type="radio" id="star4" name="rating" value="4" />
                <label for="star4" title="Good">4 stars</label>
                <input type="radio" id="star3" name="rating" value="3" />
                <label for="star3" title="Okay">3 stars</label>
                <input type="radio" id="star2" name="rating" value="2" />
                <label for="star2" title="Poor">2 stars</label>
                <input type="radio" id="star1" name="rating" value="1" />
                <label for="star1" title="Very bad">1 star</label>
            </div>
        </div>
        

        <div class="mx-auto" style="width: 500px; margin-bottom: 10px; margin-top: 12px;">
            <label for="input_review">Write a Review:</label>
            <textarea type="text" class="form-control" name="input_review" placeholder="Write a review here" rows="3"></textarea>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="input_username">Username</label>
                <input type="text" class="form-control" name="input_username" placeholder="Username">
            </div>
            <div class="form-group col-md-6">
                <label for="input_isbn">ISBN</label>
                <input type="text" class="form-control" name= "input_isbn" value={{book.isbn}} readonly>
                         
            </div>
        </div>
        <hr>

        <div class="form-row">
            <button class="btn btn-primary">Submit</button>
            <input class="btn btn-primary" type="reset" value="Reset">
        </div>

    </form>

    </div>

    <div class="col-md-6">
        <h3>Reviews by other users:</h3>

        <ol>
        {% for review in reviews %}
        <li>
            <p style="font-weight: bold; font-size: medium;">{{review.username}}</p>
            <p style="font-style: italic; font-size: large;">{{review.review}}</p>
            <p>Rating: {{review.rating}}</p>
            <hr>
        </li>
        {% endfor %}
        </ol>

    </div>

    </div>
{% endblock %}
